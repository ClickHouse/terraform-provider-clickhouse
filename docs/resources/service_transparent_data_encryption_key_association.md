---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "clickhouse_service_transparent_data_encryption_key_association Resource - clickhouse"
subcategory: ""
description: |-
  You can use the clickhouse_service resource to deploy ClickHouse cloud instances on supported cloud providers.
  Known limitations:
  If you create a service with warehouse_id set and then remove warehouse_id attribute completely, the provider won't detect the change. If you want to make a secondary service become primary, remove the warehouse_id and taint it before applying.If you create a service with readonly flag set to true and then remove readonly flag completely, the provider won't detect the change. If you want to make a secondary service read write, explicitly set the readonly flag to false.
---

# clickhouse_service_transparent_data_encryption_key_association (Resource)

You can use the *clickhouse_service* resource to deploy ClickHouse cloud instances on supported cloud providers.

Known limitations:

- If you create a service with `warehouse_id` set and then remove `warehouse_id` attribute completely, the provider won't detect the change. If you want to make a secondary service become primary, remove the `warehouse_id` and taint it before applying.
- If you create a service with `readonly` flag set to true and then remove `readonly` flag completely, the provider won't detect the change. If you want to make a secondary service read write, explicitly set the `readonly` flag to false.

## Example Usage

```terraform
resource "clickhouse_service" "service" {
  ...
}

resource "aws_kms_key" "enc" {
  ...
}

resource "clickhouse_service_transparent_data_encryption_key_association" "service_key_association" {
  service_id = clickhouse_service.service.id
  key_id = aws_kms_key.enc.arn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `key_id` (String) ID of the Encryption key to use for data encryption. Must be an ARN for AWS services or a Key Resource Path for GCP services.
- `service_id` (String) ClickHouse Service ID

## Import

Import is supported using the following syntax:

```shell
# Endpoint Attachments can be imported by specifying the clickhouse service UUID
terraform import clickhouse_service_transparent_data_encryption_key_association.example xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```
